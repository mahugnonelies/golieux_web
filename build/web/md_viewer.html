<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
          max-width: 900px;
          margin: 40px auto;
          padding: 0 16px;
          line-height: 1.6;
          font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
        }
        pre, code { background:#f6f8fa; border-radius:6px; padding:2px 6px }
        pre { padding:12px; overflow:auto }
        a { color:#0b63f6 }
    </style>
</head>
<body>
<div id="content">Chargement…</div>

<script>
    // Récupère le paramètre ?file=...
    const params = new URLSearchParams(window.location.search);
    const file = params.get("file");

    if (file) {
      fetch(file)
        .then(r => {
          if (!r.ok) throw new Error("Fichier introuvable");
          return r.text();
        })
        .then(text => {
          document.getElementById("content").innerHTML = marked.parse(text);
        })
        .catch(e => {
          document.getElementById("content").textContent = "Erreur : " + e.message;
        });
    } else {
      document.getElementById("content").textContent = "Aucun fichier spécifié.";
    }
</script>
</body>
</html>
